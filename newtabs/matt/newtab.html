<meta charset="utf-8" /> 
<html>
	<head>
		<title>
			New Tab
		</title>
		<script type="text/javascript">
		images = ["0.png", "1.png", "2.png", "3.png"];
		imageOffsets = ["8%", "0%", "0%", "20%"];
		if (!localStorage.getItem("currentBG")) {
			imageIndex = Math.floor(Math.random()*images.length);
		} else {
			imageIndex = Number.parseInt(localStorage.getItem("currentBG"));
		}
		localStorage.setItem("currentBG", (imageIndex + 1) % images.length);

		function init() {
			var newStyle = "background-image: url(\"" + images[imageIndex] + "\"); background-position: center " + imageOffsets[imageIndex] + "; background-repeat: repeat; background-size: 100%";
			document.body.setAttribute("style", newStyle);
			document.getElementsByTagName("input")[0].value = "";
			document.getElementsByTagName("input")[0].addEventListener("keydown", parseEnter);
		}

		function parseEnter(event) {
			if (event.keyCode == 13) {
				var input = document.getElementsByTagName("input")[0].value;
				if ((input.indexOf("http://") + input.indexOf(".com") + input.indexOf(".org") + input.indexOf(".net")) > -4) {
					if (input.indexOf("http://") > -1) {
						window.location.href = input.trim();
					} else {
						window.location.href = "http://" + input.trim();
					}
				} else {
					window.location.href = "https://www.google.com/search?q=" + encodeURIComponent(input);
				}
			}
		}
		</script>
	</head>
	<body onload="init()">
		<input type="text" keydown="parseEnter" placeholder="Search Google or type URL" style="position: absolute; left: 50%; top: 40%; height: 2em; width: 40%; transform: translateX(-50%); font-size: 1.5em; text-align: left; background-color: rgba(240, 240, 240, 0.3); border-width: 0px; padding-left: 20px; padding-right: 20px;">
	</body>
</html>